import{bH as p,o as c,c as h,w as u,f as m,a as d}from"./app-9EemD9ps.js";import{_ as w}from"./PrimaryButton-Gw-n2UGV.js";import{h as _}from"./http-helper-eemFjuQ7.js";const B=d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1),x={__name:"DownloadFilesButton",props:{all:{type:Boolean,required:!1,default:!1},ids:{type:Array,required:!1},sharedWithMe:!1,sharedByMe:!1},setup(i){const l=p(),e=i;function f(){var s,n;if(!e.all&&e.ids.length===0)return;const a=new URLSearchParams;if((s=l.props.folder)!=null&&s.id&&a.append("parent_id",(n=l.props.folder)==null?void 0:n.id),e.all)a.append("all",e.all?1:0);else for(let o of e.ids)a.append("ids[]",o);let t=route("file.download");e.sharedWithMe?t=route("file.downloadSharedWithMe"):e.sharedByMe&&(t=route("file.downloadSharedByMe")),_(t+"?"+a.toString()).then(o=>{if(console.log(o),!o.url)return;const r=document.createElement("a");r.download=o.filename,r.href=o.url,r.click()})}return(a,t)=>(c(),h(w,{onClick:f},{default:u(()=>[B,m(" Download ")]),_:1}))}};export{x as _};
