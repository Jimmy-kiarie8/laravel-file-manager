import{i as d,v as I,f as u,a as t,w as c,e as k,j as n,o as a,d as l,c as g,u as o,b as x,t as b,F as h,l as B}from"./app-8875be99.js";const S=["onSubmit"],T={class:"mt-2",style:{color:"red"}},U={class:"mt-2",style:{color:"red"}},E={__name:"TwoFactorChallenge",setup(F){const r=d(!1),e=I({code:"",recovery_code:""}),p=d(null),_=d(null);d(!1);const w=async()=>{r.value^=!0,await B(),r.value?(p.value.focus(),e.code=""):(_.value.focus(),e.recovery_code="")},m=()=>{e.post(route("two-factor.login"))};return(N,s)=>{const V=n("v-card-title"),f=n("v-card-text"),v=n("v-text-field"),y=n("v-btn"),C=n("v-card");return a(),u("form",{onSubmit:k(m,["prevent"])},[t(C,{class:"mx-auto",elevation:"1","max-width":"500"},{default:c(()=>[t(V,{class:"py-5 font-weight-black"},{default:c(()=>[l("Securely access your tax form")]),_:1}),t(f,null,{default:c(()=>[l(" To continue, enter a code sent to your phone or use the Google Authenticator app. If you can't access this, use the recovery code. ")]),_:1}),t(f,null,{default:c(()=>[r.value?(a(),g(v,{key:1,id:"recovery_code",ref_key:"recoveryCodeInput",ref:p,modelValue:o(e).recovery_code,"onUpdate:modelValue":s[1]||(s[1]=i=>o(e).recovery_code=i),variant:"outlined",type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code",placeholder:"Recovery","prepend-inner-icon":"mdi-refresh"},null,8,["modelValue"])):(a(),g(v,{key:0,id:"code",label:"Enter code",ref_key:"codeInput",ref:_,"single-line":"",modelValue:o(e).code,"onUpdate:modelValue":s[0]||(s[0]=i=>o(e).code=i),type:"text",inputmode:"numeric",variant:"outlined",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code",density:"compact",placeholder:"Code","prepend-inner-icon":"mdi-lock-clock"},null,8,["modelValue"])),x("p",T,b(o(e).errors.password),1),x("p",U,b(o(e).errors.code),1),t(y,{disabled:o(e).processing,loading:o(e).processing,block:"",class:"text-none mb-4",color:"indigo-darken-3",size:"x-large",variant:"flat",onClick:m},{default:c(()=>[l(" Verify and continue ")]),_:1},8,["disabled","loading"]),t(y,{block:"",class:"text-none",color:"grey-lighten-3",size:"x-large",variant:"flat",onClick:k(w,["prevent"])},{default:c(()=>[r.value?(a(),u(h,{key:1},[l(" Use an authentication code ")],64)):(a(),u(h,{key:0},[l(" Use a recovery code ")],64))]),_:1},8,["onClick"])]),_:1})]),_:1})],40,S)}}};export{E as default};
